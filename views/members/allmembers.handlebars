<h3><a class="btn btn-secondary" href="/mychurch/member/add"><i class="fa fa-plus"></i> Add Member</a>   Members List</h3>

<div class="search_box">
  <input class="form-control mb-2" id="search_input" type="text" placeholder="Search member by name" aria-label="Search" onkeyup="searchMember()">
</div>

<table class="table table-striped" id="memberTable">
  <thead>
    <tr>
      <th>Full Name</th>
      <th>Email</th>
      <th>Gender</th>
      <th>Telephone</th>
      <th>MemberNo.</th>
      <th>HFG</th>
      <th>Address</th>
      <th>Ministries</th>
      <th></th>
    </tr>
  </thead>
    <tbody id="table-body">
      {{#each members}}
      <tr id="trow">
        <td id="name">{{this.name}}</td>
        <td>{{this.email}}</td>
        <td>{{this.gender}}</td>
        <td>{{this.telephone}}</td>
        <td>{{this.memberNo}}</td>
        <td>{{this.HFG}}</td>
        <td>{{this.address}}</td>
        <td>{{this.ministries}}</td>
        <td>
          <a href="/mychurch/member/edit/{{_id}}"><i class="fa fa-pencil fa-lg" aria-hidden="true"></i></a>
              <a href="/mychurch/member/delete/{{_id}}" onclick="return confirm('Are you sure you want to delete this member?')"> <i class="fa fa-trash fa-lg" aria-hidden="true"></i></a>
        </td>
      </tr>
      {{/each}}
    </tbody>
  <script>
    const searchMember = () => {
      const searchInput = document.getElementById("search_input").value.toUpperCase();
      const memberTable = document.getElementById("memberTable");
      const tr = memberTable.getElementsByTagName("tr");

      for(var i=0; i<tr.length; i++){
        let td = tr[i].getElementsByTagName("td")[0];

        if(td){
          let textvalue = td.textContent || td.innerHTML;

          if(textvalue.toLocaleUpperCase().indexOf(searchInput) > -1){
            tr[i].style.display = "";
          } else{
            tr[i].style.display = "none"
          }
        }
      }




      //console.log(searchInput)
    };

  </script>
</table>

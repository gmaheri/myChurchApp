<h3><a class="btn btn-secondary" href="/mychurch/member/add"><i class="fa fa-plus"></i> Add Member</a>   Members List</h3>
<!-- Search form -->
<div class="search_box">
  <input class="form-control mb-2" id="search_input" type="text" placeholder="Search Member" aria-label="Search">
</div>

<table class="table table-striped">
  <thead>
    <tr>
      <div class="name">
      <th>Full Name</th>
      </div>
      <th>Email</th>
      <th>Gender</th>
      <th>Telephone</th>
      <th>MemberNo.</th>
      <th>HFG</th>
      <th>Address</th>
      <th>Ministries</th>
      <th></th>
    </tr>
  </thead>
    <tbody id="table_body">
      {{#each members}}
      <tr>
        <div class="name">
        <td>{{this.name}}</td>
        </div>
        <td>{{this.email}}</td>
        <td>{{this.gender}}</td>
        <td>{{this.telephone}}</td>
        <td>{{this.memberNo}}</td>
        <td>{{this.HFG}}</td>
        <td>{{this.address}}</td>
        <td>{{this.ministries}}</td>
        <td>
          <a href="/mychurch/member/edit/{{_id}}"><i class="fa fa-pencil fa-lg" aria-hidden="true"></i></a>
              <a href="/mychurch/member/delete/{{_id}}" onclick="return confirm('Are you sure you want to delete this member?')"> <i class="fa fa-trash fa-lg" aria-hidden="true"></i></a>
        </td>
      </tr>
      {{/each}}
    </tbody>
  <script>
    const search_input = document.querySelector("#search_input");
    search_input.addEventListener("keyup", (e) => {
      const search_item = e.target.value.toLowerCase();
      const span_items= document.getElementById('table_body')
      //console.log(span_items)
      span_items.forEach(function(item){
        if(item.textContent.toLocaleLowerCase().indexOf(search_item) != -1){
          item.closest("li").style.display = "block"
        }else {
           item.closest("li").style.display = "none"
        }
      })
    });
  </script>
</table>
